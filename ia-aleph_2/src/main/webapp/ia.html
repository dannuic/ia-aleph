<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <link rel="stylesheet" type="text/css" href="css/ia.css"/>
        <link rel="icon" href="img/various/favicon.png" type="image/png" />
        <!--<link rel="chrome-webstore-item" href="https://chrome.google.com/webstore/detail/hfgdhiehdeeajkmemembkhlfhkndbdil" />-->
        <title>Aleph Toolbox 2.0</title>
        <!--        <script type="text/javascript">
                    var _gaq = _gaq || [];
                    _gaq.push(['_setAccount', 'UA-32771450-1']);
                    _gaq.push(['_trackPageview']);
                    (function() {
                        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                    })();
                </script>-->
    </head>
    <body>
        <div id="ia-loadingContainer">
            <img src="img/various/loading.gif" alt="loading"/>
            <span>loading...</span>
        </div>
        <div id="ia-mainContainer" style="display:none" ></div>
        <script id="ia-mainScreenTemplate" type="text/x-handlebars-template">
            <div class="ia-mainScreenContainer">
                <div class="ia-mainScreenTopBar">
                    <div id="ia-unitSelectorContainer"></div>
                    <div id="ia-rosterContainerOnTopBar"></div>
                </div>
                <div id="ia-mainScreenCenter"></div>                
            </div>
        </script>
        <script id="ia-rosterTemplate" type="text/x-handlebars-template">
            <div class="ia-rosterContainer">
                <div class="ia-rosterTopBar">
                {{messages.troopers}}: <b>{{roster.trooperCount}}</b> {{messages.points}}: <b>{{roster.pointCount}} / {{roster.pointCap}} ( {{roster.pointDiff}} )</b>  {{messages.swc}}: <b>{{roster.swcCount}} / {{roster.swcCap}} ( {{roster.swcDiff}} )</b>
                <span class="ia-warning">{{join roster.warningMessages}}</span>
                </div>
                <div class="ia-rosterBody">
                    <table class="ia-rosterTable">
                        <thead></thead>
                        <tbody>
                            {{#each roster.troopers}}
                            <tr class="ia-rosterTrooperEntry" data-ia-entryindex="{{@index}}">
                                <td><img class="ia-rosterTrooperEntryLogo" src="img/troop/{{logo}}_logo_small.png"></td>
                                <td>{{name}}</td>
                                <td>{{description}}</td>
                                <td class="ia-rosterEntrySwcCell">{{swc}}</td>
                                <td class="ia-rosterEntryCostCell">{{cost}}</td>
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </div>       
            </div>
        </script>
        <script id="ia-trooperSelectorTemplate" type="text/x-handlebars-template">
            <div class="ia-trooperSelectorContainer">
                <div class="ia-trooperSelectorHeader">
                    <span class="ia-trooperIsc">ISC: {{trooper.isc}}</span>
                    <span class="ia-trooperClassification">{{trooper.classification}}</span>
                </div>
                <div class="ia-trooperSelectorMain">
                    <div class="ia-trooperType">{{trooper.type}}</div>
                    <div class="ia-trooperIscContainer"><div class="ia-trooperIsc">{{trooper.isc}}</div></div>
                    <div class="ia-trooperCube">
                        {{#if trooper.hasCube}}
                            {{#if trooper.hasCubeL2}}
                                <img class="ia-trooperIcon" src="img/icon/cube2_icon.png"></img>
                            {{else}}
                                <img class="ia-trooperIcon" src="img/icon/cube_icon.png"></img>
                            {{/if}}
                        {{/if}}
                    </div>
                    <div class="ia-trooperTraining">
                        {{#if trooper.isRegular}}<img class="ia-trooperIcon" src="img/icon/regular_icon.png"></img>{{/if}}
                        {{#if trooper.isIrregular}}<img class="ia-trooperIcon" src="img/icon/irregular_icon.png"></img>{{/if}}
                    </div>
                    <div class="ia-trooperImpetuosity">
                        {{#if trooper.isFrenzy}}<img class="ia-trooperIcon" src="img/icon/frenzy_icon.png"></img>{{/if}}                        
                        {{#if trooper.isImpetuous}}
                            {{#if trooper.isExtremelyImpetuous}}
                                <img class="ia-trooperIcon" src="img/icon/extremely_impetuous_icon.png"></img>
                            {{else}}
                                <img class="ia-trooperIcon" src="img/icon/impetuous_icon.png"></img>
                            {{/if}}
                        {{/if}}
                    </div>
                    <div class="ia-trooperHackable">
                        {{#if trooper.isHackable}}<img class="ia-trooperIcon" src="img/icon/hackable_icon.png"></img>{{/if}}
                    </div>
                    <div class="ia-trooperEquipments">{{trooperEquipments trooper}}</div>
                    <div class="ia-trooperSkills">{{trooperSkills trooper}}</div>
                    <img class="ia-trooperLogo" src="img/troop/{{trooper.logo}}_logo.png"></img>
                    <table class="ia-trooperSelectorAttributesTable">
                        <thead >
                            <tr class="ia-trooperSelectorAttributesHeader">
                                <th>{{messages.mov}}</th>
                                <th>{{messages.cc}}</th>
                                <th>{{messages.bs}}</th>
                                <th>{{messages.ph}}</th>
                                <th>{{messages.wip}}</th>
                                <th>{{messages.arm}}</th>
                                <th>{{messages.bts}}</th>
                                <th>{{#if trooper.str}}{{messages.str}}{{else}}{{messages.wounds}}{{/if}}</th>
                                <th>{{messages.silhouette}}</th>
                                <th>{{messages.ava}}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>{{trooper.mov}}</td>
                                <td>{{trooper.cc}}</td>
                                <td>{{trooper.bs}}</td>
                                <td>{{trooper.ph}}</td>
                                <td>{{trooper.wip}}</td>
                                <td>{{trooper.arm}}</td>
                                <td>{{trooper.bts}}</td>
                                <td>{{trooper.w}}</td>
                                <td>{{trooper.s}}</td>
                                <td>{{trooper.ava}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="ia-trooperSelectorOptionList">
                    <table class="ia-trooperSelectorOptionListTable">
                        <thead >
                            <tr class="ia-trooperSelectorOptionListHeader">
                                <th>{{messages.name}}</th>
                                <th>{{messages.bsw}}</th>
                                <th>{{messages.ccw}}</th>
                                <th class="ia-trooperSelectorOptionSwcCell">{{messages.swc}}</th>
                                <th class="ia-trooperSelectorOptionCostCell">{{messages.cost}}</th>
                            </tr>
                        </thead>
                        <tbody>
                        {{#each trooper.options}}
                            <tr class="ia-trooperSelectorOptionRow" title="{{../trooper.name}} {{description}}" data-ia-optioncode="{{code}}" >
                                <td><span class="ia-troopetSelectorOptionName">{{../trooper.name}}</span> {{joinForTrooperOption this}}</td>
                                <td>{{join allBsw}}</td>
                                <td>{{join allCcw}}</td>
                                <td class="ia-trooperSelectorOptionSwcCell">{{swc}}</td>
                                <td class="ia-trooperSelectorOptionCostCell">{{cost}}</td>
                            </tr>
                        {{/each}}
                        </tbody>
                    </table>
                    <div class="ia-trooperSelectorOptionListFooter" ></div>
                </div>
            </div>
        </script>
        <script type="text/javascript" src="js/ia-lib.js"></script>
        <script type="text/javascript" src="js/ia-data.js"></script>
        <script type="text/javascript" src="js/ia-lang.js"></script>
        <script type="text/javascript" src="js/ia.js"></script>
    </body>
</html>
